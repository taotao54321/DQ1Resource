+++
title = "主人公"
date = 2022-03-26
+++

## 主人公の名前

主人公の名前に使える[文字](@/char/index.md)には制限がある。

通常の名前入力画面では、全てのひらがな (`0x0A..=0x3B`) および独立した濁点 (`0x53`)、半濁点 (`0x54`) のみが使える。名前が 4 文字に満たない場合、足りない分は空白 (`0x5F`) で埋められる。  
[復活の呪文](@/password/index.md)を捏造すると、他に全ての数字 (`0x00..=0x09`) および長音 (`0x4E`) も使える。また、名前の末尾以外に空白を使うこともできる。


## 主人公の能力

主人公の能力(力、素早さ、最大HP, 最大MP)はレベルごとに基本値が設定されており、さらに主人公の名前によって変化する。

まず主人公の名前 4 バイトの総和をとる。これを「名前の総和」と呼ぶ。  
名前の総和のうち bit0-3 のみが各能力の成長に影響する。

各能力には A, B 2つの成長パターンがあり、名前の総和の bit0-1 により決まる:

|      | 力  | 素早さ | 最大HP | 最大MP |
| --   | :-: | :-:    | :-:    | :-:    |
| 0b00 | B   | B      | A      | A      |
| 0b01 | A   | B      | A      | B      |
| 0b10 | B   | A      | B      | A      |
| 0b11 | A   | A      | B      | B      |

各成長パターンでは以下のように能力値が決まる:

* 成長パターン A ではレベルごとの基本値がそのまま使われる。
* 成長パターン B では `(基本値) * 9 // 10 + (名前の総和の bit2-3)` となる。

以上より、名前の総和の bit2-3 は `0b11` にするのが最も得になる。  
この場合、成長パターンを比較すると以下のようになる:

* `(基本値) <= 30` では `(パターンBの能力値) >= (パターンAの能力値)`
* `(基本値) >= 31` では `(パターンAの能力値) >  (パターンBの能力値)`

レベルごとの成長パターン別の能力値、習得呪文、所要経験値を示す:

| レベル | 力-A | 力-B     | 早-A | 早-B     | HP-A | HP-B     | MP-A | MP-B     | 習得呪文   | 所要経験値 |
| --:    | --:  | --:      | --:  | --:      | --:  | --:      | --:  | --:      | --         | --:        |
| 1      | 4    | 3〜6     | 4    | 3〜6     | 15   | 13〜16   | 0    | 0〜3     |            | 0          |
| 2      | 5    | 4〜7     | 4    | 3〜6     | 22   | 19〜22   | 0    | 0〜3     |            | 7          |
| 3      | 7    | 6〜9     | 6    | 5〜8     | 24   | 21〜24   | 5    | 4〜7     | ホイミ     | 23         |
| 4      | 7    | 6〜9     | 8    | 7〜10    | 31   | 27〜30   | 16   | 14〜17   | ギラ       | 47         |
| 5      | 12   | 10〜13   | 10   | 9〜12    | 35   | 31〜34   | 20   | 18〜21   |            | 110        |
| 6      | 16   | 14〜17   | 10   | 9〜12    | 38   | 34〜37   | 24   | 21〜24   |            | 220        |
| 7      | 18   | 16〜19   | 17   | 15〜18   | 40   | 36〜39   | 26   | 23〜26   | ラリホー   | 450        |
| 8      | 22   | 19〜22   | 20   | 18〜21   | 46   | 41〜44   | 29   | 26〜29   |            | 800        |
| 9      | 30   | 27〜30   | 22   | 19〜22   | 50   | 45〜48   | 36   | 32〜35   | レミーラ   | 1300       |
| 10     | 35   | 31〜34   | 31   | 27〜30   | 54   | 48〜51   | 40   | 36〜39   | マホトーン | 2000       |
| 11     | 40   | 36〜39   | 35   | 31〜34   | 62   | 55〜58   | 50   | 45〜48   |            | 2900       |
| 12     | 48   | 43〜46   | 40   | 36〜39   | 63   | 56〜59   | 58   | 52〜55   | リレミト   | 4000       |
| 13     | 52   | 46〜49   | 48   | 43〜46   | 70   | 63〜66   | 64   | 57〜60   | ルーラ     | 5500       |
| 14     | 60   | 54〜57   | 55   | 49〜52   | 78   | 70〜73   | 70   | 63〜66   |            | 7500       |
| 15     | 68   | 61〜64   | 64   | 57〜60   | 86   | 77〜80   | 72   | 64〜67   | トヘロス   | 10000      |
| 16     | 72   | 64〜67   | 70   | 63〜66   | 92   | 82〜85   | 95   | 85〜88   |            | 13000      |
| 17     | 72   | 64〜67   | 78   | 70〜73   | 100  | 90〜93   | 100  | 90〜93   | ベホイミ   | 17000      |
| 18     | 85   | 76〜79   | 84   | 75〜78   | 115  | 103〜106 | 108  | 97〜100  |            | 21000      |
| 19     | 87   | 78〜81   | 86   | 77〜80   | 130  | 117〜120 | 115  | 103〜106 | ベギラマ   | 25000      |
| 20     | 92   | 82〜85   | 88   | 79〜82   | 138  | 124〜127 | 128  | 115〜118 |            | 29000      |
| 21     | 95   | 85〜88   | 90   | 81〜84   | 149  | 134〜137 | 135  | 121〜124 |            | 33000      |
| 22     | 97   | 87〜90   | 90   | 81〜84   | 158  | 142〜145 | 146  | 131〜134 |            | 37000      |
| 23     | 99   | 89〜92   | 94   | 84〜87   | 165  | 148〜151 | 153  | 137〜140 |            | 41000      |
| 24     | 103  | 92〜95   | 98   | 88〜91   | 170  | 153〜156 | 161  | 144〜147 |            | 45000      |
| 25     | 113  | 101〜104 | 100  | 90〜93   | 174  | 156〜159 | 161  | 144〜147 |            | 49000      |
| 26     | 117  | 105〜108 | 105  | 94〜97   | 180  | 162〜165 | 168  | 151〜154 |            | 53000      |
| 27     | 125  | 112〜115 | 107  | 96〜99   | 189  | 170〜173 | 175  | 157〜160 |            | 57000      |
| 28     | 130  | 117〜120 | 115  | 103〜106 | 195  | 175〜178 | 180  | 162〜165 |            | 61000      |
| 29     | 135  | 121〜124 | 120  | 108〜111 | 200  | 180〜183 | 190  | 171〜174 |            | 65000      |
| 30     | 140  | 126〜129 | 130  | 117〜120 | 210  | 189〜192 | 200  | 180〜183 |            | 65535      |
